{"version":3,"sources":["assets/ABLobby/root/Script/LobbyRoot.js"],"names":["JS_LOG","arg","cc","log","Class","Component","properties","initModule","onBtn_loadGame_1","removeGame_1","loadSubGame","moduleObj","abObj","getABObj","load","Prefab","err","prefab","JSON","stringify","_node","instantiate","node","addChild","_game1","getComponent","lobbyRoot","destroy","onBtn_loadGame_2","removeGame_2","_game2","abName","callback","_G_moduleMag","hotUpdateMultiModule","addModule"],"mappings":"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","sourceRoot":"/","sourcesContent":["\n\n// let LobbyRoot\n\nlet JS_LOG = function(...arg){ \n    cc.log(\"[LobbyRoot]\",...arg) ; \n}\n\ncc.Class({\n    extends: cc.Component, \n    properties: {\n\n\n\n    },\n\n\n    initModule(){\n    \tJS_LOG(\"initModule\")\n\n    },\n\n    onBtn_loadGame_1(){\n    \tJS_LOG(\"onBtn_loadGame_1\")\n    \tthis.removeGame_1()\n\n    \tthis.loadSubGame(\"ABSubGame1\", (moduleObj)=>{\n    \t\tlet abObj = moduleObj.getABObj()\n                \n            abObj.load('root/Scene/SubGame1', cc.Prefab, (err, prefab)=>{\n                JS_LOG(\"load_game1_prefab_:\", JSON.stringify(err) ) \n                let _node = cc.instantiate(prefab) \n                this.node.addChild(_node, 100)\n                this._game1 = _node\n                _node.getComponent(\"SubGame_1\").initModule({lobbyRoot:this})    \n\n            }) \n    \t})\n\n\n\n        // 模块内加载自身资源\n        // let module = _G_moduleMag.getModule(\"ABLobby\")\n        // let assetBundle = module.getABObj()\n        // assetBundle.load('root/Scene/xxx', cc.Prefab, (err, prefab)=>{    \n        //     //...\n        // }) \n\n    },\n\n    removeGame_1(){\n    \tif(this._game1){\n    \t\tthis._game1.destroy()\n    \t}\n    \tthis._game1 = null\n    },\n\n\n    onBtn_loadGame_2(){\n    \tJS_LOG(\"onBtn_loadGame_2\")\n    \tthis.removeGame_2()\n    \tthis.loadSubGame(\"ABSubGame2\", (moduleObj)=>{\n    \t\tlet abObj = moduleObj.getABObj()\n                \n            abObj.load('root/Scene/SubGame2', cc.Prefab, (err, prefab)=>{\n                JS_LOG(\"load_game2_prefab_:\", JSON.stringify(err) ) \n                let _node = cc.instantiate(prefab) \n                this.node.addChild(_node, 100)\n                this._game2 = _node\n                _node.getComponent(\"SubGame_2\").initModule({lobbyRoot:this})    \n\n            }) \n    \t})\n\n    },\n    removeGame_2(){\n    \tif(this._game2){\n    \t\tthis._game2.destroy()\n    \t}\n    \tthis._game2 = null\n\n    },\n\n\n    loadSubGame(abName, callback){ \n    \t_G_moduleMag.hotUpdateMultiModule([abName],()=>{\n\n            _G_moduleMag.addModule(abName, (moduleObj)=>{\n                callback(moduleObj)\n            })\n        })\n    },\n\n});"]}